"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{4349:(e,t,s)=>{s.d(t,{U:()=>l});let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";if(!e)return;let s=document.getElementById("msg-".concat(e));s&&s.scrollIntoView({behavior:t,block:"start"})}},14754:(e,t,s)=>{s.d(t,{A:()=>x});var l=s(23798),a=s(21462),n=s(43205),r=s(45124),i=s(95387),o=s.n(i),c=s(82918),d=s.n(c),u=s(64139),h=s(78130);let x=e=>{let{conversations:t,isMobile:s,onCloseOnMobile:i}=e,{id:c}=(0,u.useRouter)().query||{},[x,m]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!0),v="dark:bg-[#181818] flex items-center text-sm mx-1.5 py-1.5 px-2.5 min-h-9 rounded-[10px] hover:bg-gray-200 dark:hover:bg-[#ffffff1a]";return(0,l.jsx)("div",{className:"dark:bg-[#181818] dark:border-[#181818] ".concat(s?"block":"hidden"," sm:block relative h-full shrink-0 overflow-hidden border-e border-gray-200 bg-gray-50 transition-width duration-200 ease-in-out ").concat(f?"w-[260px]":"w-13"),children:(0,l.jsx)("div",{className:"relative flex h-full flex-col",children:(0,l.jsxs)("nav",{className:"relative flex h-full w-full flex-1 flex-col overflow-y-auto transition-opacity duration-500",onScroll:e=>{m(e.currentTarget.scrollTop>0)},children:[(0,l.jsx)("div",{className:"dark:bg-[#181818] sticky top-0 z-30 bg-gray-50 transition-shadow duration-200 ".concat(x?"shadow-md":"shadow-none"),children:(0,l.jsx)("div",{className:"touch:px-1.5 px-2",children:(0,l.jsxs)("div",{className:"flex items-center ".concat(f?"justify-between":"justify-center"," h-13"),children:[(0,l.jsx)("div",{className:"pl-1 rounded-lg p-1 transition-all duration-200",children:f?(0,l.jsx)(d(),{href:"/",style:{opacity:+!!f},children:(0,l.jsx)(o(),{alt:"Picture of the Chat bot",height:30,src:"/avatar.svg",width:30})}):(0,l.jsx)("button",{className:"cursor-e-resize",type:"button",onClick:()=>{p(!0)},children:(0,l.jsx)(r.IMk,{className:"w-4.5 h-4.5"})})}),s?(0,l.jsx)("button",{className:"p-2 rounded-lg cursor-w-resize",type:"button",onClick:i,children:(0,l.jsx)(h.lr4,{className:"w-4.5 h-4.5"})}):!s&&f?(0,l.jsx)("button",{className:"p-2 rounded-lg cursor-w-resize",type:"button",onClick:()=>{p(!1)},children:(0,l.jsx)(r.IMk,{className:"w-4.5 h-4.5"})}):null]})})}),(0,l.jsx)("div",{className:"dark:bg-[#181818] sticky top-13 z-30 bg-gray-50 transition-shadow duration-200 ".concat(x?"shadow-md":"shadow-none"),children:(0,l.jsxs)("aside",{className:"py-2 flex flex-col",children:[(0,l.jsx)("a",{className:v,href:"/",children:(0,l.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[(0,l.jsx)(n.Hgr,{className:"w-4.5 h-4.5 flex-shrink-0"}),f?(0,l.jsx)("span",{className:"truncate",children:"New Chat"}):null]})}),(0,l.jsx)("a",{className:v,href:"/",children:(0,l.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[(0,l.jsx)(n.Xj1,{className:"w-4.5 h-4.5 flex-shrink-0"}),f?(0,l.jsx)("span",{className:"truncate",children:"Search Chat"}):null]})})]})}),f?(0,l.jsxs)("aside",{className:"flex flex-col py-2.5",children:[(0,l.jsx)("h2",{className:"block text-sm text-[#8f8f8f] font-normal mx-1.5 my-0 py-2 px-2.5 truncate",children:"Chats"}),t.map(e=>(0,l.jsx)(d(),{className:"flex items-center text-sm mx-1.5 min-h-9 py-1.5 \n                  px-2.5 rounded-[10px] hover:bg-gray-200 dark:hover:bg-[#ffffff1a] active:opacity-70 \n                  ".concat(Number(c)===e.id?"bg-gray-200 dark:bg-[#ffffff1a]":""),href:"/chat/".concat(e.id),onClick:s?i:void 0,children:(0,l.jsx)("span",{className:"truncate",children:e.name})},e.id))]}):null]})})})}},36025:(e,t,s)=>{s.d(t,{A:()=>w});var l=s(23798),a=s(95770),n=s(57098),r=s(97367),i=s.n(r),o=s(64139),c=s(45124),d=s(21462),u=s(95315),h=s(13674),x=s(53168),m=s(14754);let f=e=>{let{isOpen:t,conversations:s,onClose:a}=e;return(0,l.jsx)(h.I,{className:"rounded-none w-[260px]",isOpen:t,placement:"left",size:"xs",onOpenChange:a,children:(0,l.jsx)(x.g,{children:(0,l.jsx)(m.A,{isMobile:!0,conversations:s,onCloseOnMobile:a})})})};var p=s(63910),v=s(71091),g=s(4349);let b=e=>{let{isOpen:t,historyMessages:s,onClose:a}=e,n=e=>{(0,g.U)(e),a()};return(0,l.jsx)(h.I,{className:"rounded-none w-[260px] p-0",isOpen:t,placement:"right",size:"xs",onOpenChange:a,children:(0,l.jsxs)(x.g,{children:[(0,l.jsxs)(p.c,{className:"flex flex-col gap-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(u.T7J,{className:"w-4.5 h-4.5"}),"Your messages"]}),(0,l.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-300 font-normal",children:"Jump to the message just by one click"})]}),(0,l.jsx)(v.h,{className:"h-full px-3.5",children:(0,l.jsx)("div",{className:"relative flex h-full w-full flex-1 flex-col gap-2 overflow-y-auto",children:s.filter(e=>"user"===e.role).map(e=>(0,l.jsx)("button",{className:"flex justify-start text-left text-sm min-h-9 py-1.5  px-2.5 rounded-[10px] hover:bg-gray-200 dark:hover:bg-[#ffffff1a] max-h-20 overflow-y-hidden cursor-pointer",type:"button",onClick:()=>n(e.id),children:e.content},e.id))})})]})})},j=e=>e.length<30?e:e.substring(0,30)+"...",w=e=>{let{path:t,conversations:s,historyMessages:r}=e,h=(0,o.useRouter)(),[x,m]=(0,d.useState)(!1),[p,v]=(0,d.useState)(!1);return(0,l.jsxs)("div",{className:"h-[75px] dark:bg-[#212121e6] dark:border-[#181818] relative flex w-full flex-row items-center justify-between p-4 border-b-1 border-gray-200",children:[(0,l.jsxs)("div",{className:"flex flex-col items-start gap-1 sm:gap-0.5 flex-1",children:[(0,l.jsxs)("div",{className:"flex gap-2 items-center text-base font-medium",children:[(0,l.jsx)(c.IMk,{className:"sm:hidden w-4.5 h-4.5",onClick:()=>m(!0)}),"ChatGPT Clone"]}),!i()(t)&&t?(0,l.jsx)(a.L,{size:"sm",children:t.map((e,s)=>(0,l.jsx)(n.e,{onClick:()=>{if(s<t.length-1){var l;h.push("/chat/".concat(e.id,"?focus=").concat(null==t||null==(l=t[s+1])?void 0:l.message_id))}},children:t.length>1?j(e.name):e.name},e.id))}):null]}),i()(r)?null:(0,l.jsx)("div",{className:"flex justify-end text-xs font-medium",children:(0,l.jsxs)("button",{className:"flex items-center gap-1 cursor-pointer hover:opacity-70 transition-all duration-200 bg-gray-100 dark:bg-[#323232D9] px-1.5 py-1 rounded-sm font-medium",type:"button",onClick:()=>v(!0),children:[(0,l.jsx)(u.T7J,{className:"w-4.5 h-4.5"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Your messages"})]})}),(0,l.jsx)(f,{conversations:s,isOpen:x,onClose:()=>m(!1)}),(0,l.jsx)(b,{historyMessages:r||[],isOpen:p,onClose:()=>v(!1)})]})}},45107:(e,t,s)=>{s.d(t,{A:()=>b});var l=s(23798),a=s(21462),n=s(78130),r=s(97367),i=s.n(r),o=s(64139),c=s(52386),d=s(2179),u=s(55841),h=s(38759),x=s(73174),m=s(35267),f=s(50566);let p=(0,a.forwardRef)((e,t)=>{let{setSelectedFunction:s}=e,n=(0,o.useRouter)(),[r,i]=(0,a.useState)(new Set([]));return(0,a.useImperativeHandle)(t,()=>({onClose:()=>{i(new Set([]))}})),(0,l.jsxs)(c.A,{className:"w-full",children:[(0,l.jsx)(d.b,{children:(0,l.jsx)("button",{className:"flex items-center justify-center h-9 w-9 min-w-9 min-h-9 rounded-full bg-transparent hover:bg-gray-100 dark:hover:bg-[#ffffff1a] cursor-pointer self-end border-0 p-0",type:"button",children:(0,l.jsx)(m.BlJ,{className:"w-[24px] h-[24px]"})})}),(0,l.jsxs)(u.y,{disallowEmptySelection:!0,"aria-label":"Single selection example",selectedKeys:r,selectionMode:"single",variant:"flat",onSelectionChange:e=>{i(e);let t=Array.from(e),l=null==t?void 0:t[0],a=[...f.nI,...f.uQ].find(e=>e.value===l);s(a),n.replace({pathname:n.pathname,query:{...n.query,agentic_mode:null==a?void 0:a.value}})},children:[(0,l.jsx)(h.g,{showDivider:!0,title:"Prompt Techniques",children:f.uQ.map(e=>(0,l.jsx)(x.Y,{startContent:e.icon,children:e.label},e.value))}),(0,l.jsx)(h.g,{title:"Modes",children:f.nI.map(e=>(0,l.jsx)(x.Y,{startContent:e.icon,children:e.label},e.value))})]})]})});p.displayName="FunctionButton";var v=s(4349);let g={[f.PJ.CHAIN_OF_THOUGHT]:"Solve the problem by reasoning step by step.",[f.PJ.TREE_OF_THOUGHT]:"Generate multiple reasoning paths, then select the best final solution. To produce best result, ToT will not take in the chat history."},b=e=>{let{customClassName:t,handleSubmit:s,isSubmitting:r,handleStop:c,quoteMsg:d,onCloseQuote:u,quoteType:h,replySubstr:x,selectedMessageIds:m}=e,b=(0,o.useRouter)(),{agentic_mode:j,id:w}=b.query||{},y=(0,a.useRef)(null),N=(0,a.useRef)(null),k=(0,a.useRef)(null),[C,S]=(0,a.useState)(""),[T,_]=(0,a.useState)(!1),[E,R]=(0,a.useState)(()=>[...f.uQ,...f.nI].find(e=>e.value===j)),M=()=>{let e=y.current;if(e){e.style.height="auto",e.scrollHeight>=200&&(e.style.overflowY="auto");let t=Math.min(e.scrollHeight,200);e.style.height=48!==t||T||C.includes("\n")||C.includes("\r")?"".concat(t,"px"):"24px";let s=Math.ceil(t/24);T||_(s>1)}},O=()=>{let e=y.current,t=N.current;e&&t&&(e.style.height="24px",j||(t.style.borderRadius="28px"))};(0,a.useEffect)(()=>{M(),C||_(!1)},[C,d]),(0,a.useEffect)(()=>{S(""),null==u||u(),j||Y(void 0)},[w]);let H=()=>{s(C,null==E?void 0:E.value),S(""),O()},A=T||!i()(E),I=!!d,P=(0,a.useMemo)(()=>h===f.wf.NEW_THREAD?"Thread starter":h===f.wf.REPLY?"Reply to":h===f.wf.SELECT?"Selected message(s): ".concat(null==m?void 0:m.size):null,[h,null==m?void 0:m.size]),z=(0,a.useMemo)(()=>{if(h===f.wf.REPLY)return'"'.concat(x,'"');if(h===f.wf.SELECT){let e=Array.from(m||new Set([])).sort((e,t)=>e-t);return e.map((t,s)=>(0,l.jsxs)("button",{className:"cursor-pointer text-blue-500 dark:text-blue-300 hover:opacity-70",onClick:()=>(0,v.U)(t),children:["#",s+1,s<e.length-1?",":""]},t))}return'"'.concat(null==d?void 0:d.content,'"')},[h,x,d,m]),Y=e=>{if((null==e?void 0:e.value)===f.Sw.SUMMARY){let e="Summarize messages for me";S(t=>t?t+"\n"+e:e)}R(e)};return(0,l.jsxs)("div",{ref:N,className:"flex flex-col w-full border-1 border-default-300 bg-white dark:bg-[#323232] dark:border-[#323232]\n        shadow-md transition-[border-radius] duration-150 ease-out ".concat(t),style:{borderRadius:A||I?"16px":"28px"},children:[I?(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)("div",{className:"dark:bg-[#424242] mx-1 mt-1 rounded-t-[10px] rounded-b-lg bg-gray-100 border-1 border-default-100",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm text-[#8f8f8f] font-medium px-1.5 border-b-1 border-default-200 dark:border-default-300",children:[(0,l.jsx)("span",{children:P}),(0,l.jsx)(n.lr4,{className:"cursor-pointer w-5 h-5 hover:opacity-70",onClick:u})]}),(0,l.jsx)("div",{className:"flex items-start text-sm py-1 px-1.5 gap-1.5 max-h-[75px] overflow-hidden",children:z})]})}):null,(0,l.jsxs)("div",{className:"flex flex-row w-full justify-center items-center p-2.5 gap-1 relative ".concat(A&&"px-4.5"),children:[(0,l.jsx)("div",{className:"transition-all duration-300 ease-in-out flex-shrink-0 ".concat(A?"w-0 opacity-0":"w-9 opacity-100"),children:A?null:(0,l.jsx)(p,{ref:k,setSelectedFunction:Y})}),(0,l.jsxs)("div",{className:"flex flex-col w-full",children:[(null==E?void 0:E.value)&&E.value in g?(0,l.jsxs)("div",{className:"flex gap-1 text-sm italic text-blue-500 dark:text-blue-300",children:[(0,l.jsx)(n.tEG,{className:"min-w-4 min-h-4 w-4 h-4 mt-0.5"}),g[E.value]]}):null,(0,l.jsx)("textarea",{ref:y,className:"w-full focus:outline-none resize-none min-h-[24px] max-h-[200px] overflow-y-auto bg-transparent text-base transition-all duration-300 ease-in-out",name:"chat input",placeholder:"Ask anything. Shift + Enter to Submit",rows:1,style:{transition:"height 0.15s ease-out",overflowY:"hidden"},value:C,onChange:e=>S(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),H())}})]}),(0,l.jsx)("button",{className:"flex items-center justify-center h-9 w-9 min-w-9 min-h-9 rounded-full bg-black cursor-pointer self-end border-0 p-0 ".concat(A?"hidden":"block"),type:"button",onClick:r?c:H,children:r?(0,l.jsx)(n.jpF,{className:"text-white w-[20px] h-[20px] animate-pulse"}):(0,l.jsx)(n.HeO,{className:"text-white w-[20px] h-[20px]"})})]}),A?(0,l.jsxs)("div",{className:"flex flex-1 items-center p-2.5",children:[(0,l.jsx)(p,{ref:k,setSelectedFunction:Y}),i()(E)?null:(0,l.jsxs)("button",{className:"flex items-center justify-center py-2 px-1.5 text-sm gap-1 text-blue-500 dark:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-800 rounded-full cursor-pointer",type:"button",onClick:()=>{var e;null==(e=k.current)||e.onClose(),Y(void 0);let t={...b.query};delete t.agentic_mode,b.replace({pathname:b.pathname,query:t})},children:[E.icon,null==E?void 0:E.label,(0,l.jsx)(n.lr4,{className:"w-4 h-4"})]}),(0,l.jsx)("button",{className:"flex items-center justify-center h-9 w-9 min-w-9 min-h-9 rounded-full bg-black cursor-pointer self-end border-0 p-0 ml-auto",type:"button",onClick:r?c:H,children:r?(0,l.jsx)(n.jpF,{className:"text-white w-[20px] h-[20px] animate-pulse"}):(0,l.jsx)(n.HeO,{className:"text-white w-[20px] h-[20px]"})})]}):null]})}},50478:(e,t,s)=>{s.d(t,{A:()=>c});var l=s(23798);s(21462);var a=s(97072),n=s.n(a);let r={name:"Chat GPT Clone",description:"Make beautiful websites regardless of your design experience."},i=()=>(0,l.jsxs)(n(),{children:[(0,l.jsx)("title",{children:r.name}),(0,l.jsx)("meta",{content:r.name,property:"og:title"},"title"),(0,l.jsx)("meta",{content:r.description,property:"og:description"}),(0,l.jsx)("meta",{content:r.description,name:"description"}),(0,l.jsx)("meta",{content:"viewport-fit=cover, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",name:"viewport"},"viewport"),(0,l.jsx)("link",{href:"/avatar.svg",rel:"icon"})]});var o=s(14754);function c(e){let{children:t,conversations:s}=e;return(0,l.jsxs)("div",{className:"relative flex flex-col h-[100svh]",children:[(0,l.jsx)(i,{}),(0,l.jsxs)("main",{className:"relative flex flex-row h-full w-full",children:[(0,l.jsx)(o.A,{conversations:s,isMobile:!1}),t]})]})}},50566:(e,t,s)=>{s.d(t,{PJ:()=>c,Sw:()=>d,nI:()=>h,uQ:()=>u,wf:()=>o});var l=s(23798),a=s(78130),n=s(79566),r=s(56953),i=s(12146),o=function(e){return e.NEW_THREAD="new_thread",e.REPLY="reply",e.SELECT="select",e}({}),c=function(e){return e.CHAIN_OF_THOUGHT="cot",e.TREE_OF_THOUGHT="tot",e}({}),d=function(e){return e.DEEP_RESEARCH="deep_research",e.THINK_LONGER="think_longer",e.SUMMARY="summary",e}({});let u=[{value:"cot",label:"Chain-of-Thought",icon:(0,l.jsx)(r.dGJ,{className:"w-4.5 h-4.5"})},{value:"tot",label:"Tree of thoughts",icon:(0,l.jsx)(r.PDh,{className:"w-4.5 h-4.5"})}],h=[{value:"summary",label:"Summary",icon:(0,l.jsx)(i.Z1M,{className:"w-4.5 h-4.5"})},{value:"think_longer",label:"Think longer",icon:(0,l.jsx)(n.z5h,{className:"w-4.5 h-4.5"})},{value:"deep_research",label:"Deep research",icon:(0,l.jsx)(a.cg8,{className:"w-4.5 h-4.5"})}]},86981:(e,t,s)=>{s.d(t,{cK:()=>a,t5:()=>n});let l=()=>"https://api-chat.phamtrantri.com",a=async(e,t)=>{let s=await fetch("".concat(l(),"/conversations/v1/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_msg:e,message_id:t})});return(await s.json()).data.conversation},n=async e=>await fetch("".concat(l(),"/messages/v1/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conversation_id:e.conversationId,user_message:e.userMsg,is_new_conversation:e.isNewConversation,agentic_mode:e.agenticMode,prompt_mode:e.promptMode,extra_data:e.extraParams})})}}]);